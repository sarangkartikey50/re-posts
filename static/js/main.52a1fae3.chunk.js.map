{"version":3,"sources":["resources/images/logo.svg","components/logo.js","components/searchAppBar.js","components/postCard.js","db.js","components/postCardContainer.js","actions/index.js","components/app.js","serviceWorker.js","reducers/postsReducer.js","reducers/index.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","withStyles","theme","avatar","height","width","margin","background","palette","iconColor","props","classes","react_default","a","createElement","className","logo","Avatar_default","alt","src","logoSvg","SearchAppBar","state","anchorEl","mobileMoreAnchorEl","themeCheckBox","handleChange","name","event","_this","setState","Object","defineProperty","target","checked","toggleTheme","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","_this$state","this","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem_default","onClick","renderMobileMenu","index_es","onChange","value","root","AppBar_default","appbar","position","Toolbar_default","components_logo","grow","sectionDesktop","sectionMobile","IconButton_default","aria-haspopup","color","MoreVert_default","React","Component","connect","posts","postsReducer","dispatch","payload","type","_title","backgroundColor","boxShadow","text","flexGrow","menuButton","marginLeft","marginRight","title","display","breakpoints","up","search","float","borderRadius","shape","accentBackground","&:hover","fade","common","white","spacing","unit","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","card","minWidth","bullet","transform","fontSize","fontFamily","pos","marginBottom","customFont","actionBlue","primaryColor","post","Card_default","CardContent_default","Typography_default","gutterBottom","variant","component","body","CardActions_default","Button_default","size","db","Dexie","version","stores","fetchPosts","axios","get","then","_ref","asyncToGenerator","regenerator_default","mark","_callee","response","toBeCachedData","wrap","_context","prev","next","data","sort","Math","random","splice","forEach","id","toCollection","delete","bulkPut","stop","_x","apply","arguments","catch","err","console","error","updateCachedPosts","_ref2","_callee2","_context2","toArray","sent","_x2","progress","marginTop","progressContainer","grid","useEffect","navigator","onLine","length","CircularProgress_default","columnCount","floor","window","innerWidth","rowCount","log","index_esm","innerHeight","rowSize","rowHeight","columnWidth","rowIndex","columnIndex","style","postCard","key","lightTheme","createMuiTheme","main","grey","blue","darkTheme","red","App","core_styles","isDark","searchAppBar","postCardContainer","isLocalhost","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initState","combineReducers","undefined","action","objectSpread","store","createStore","rootReducer","applyMiddleware","logger","thunk","rootElement","document","getElementById","hasChildNodes","ReactDOM","hydrate","es","app","render","URL","process","href","origin","addEventListener","concat","fetch","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.52a1fae3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8ac83418.svg\";","import React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport logoSvg from '../resources/images/logo.svg'\r\n\r\nconst styles = (theme) => ({\r\n    avatar: {\r\n        height: 40,\r\n        width: 40,\r\n        margin: 10,\r\n        background: theme.palette.iconColor\r\n    }\r\n})\r\n\r\nconst Logo = (props) => {\r\n    const { classes } = props\r\n    return (\r\n        <div className={classes.logo}>\r\n            <Avatar alt='Logo' src={logoSvg} className={classes.avatar} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(Logo)","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport Logo from './logo'\r\nimport { connect } from 'react-redux'\r\nimport { Switch } from '@material-ui/core'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.postsReducer.posts\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toggleTheme: (payload) => dispatch({ type: 'UPDATE_THEME', payload })\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  appbar: {\r\n    backgroundColor: theme.palette.background,\r\n    boxShadow: theme.boxShadow,\r\n    color: theme.palette.text\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n    fontFamily: 'Google Sans'\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    float: 'right',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: theme.palette.accentBackground,\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing.unit * 2,\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing.unit * 3,\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing.unit * 9,\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingRight: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit,\r\n    paddingLeft: theme.spacing.unit * 10,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n});\r\n\r\nclass SearchAppBar extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    mobileMoreAnchorEl: null,\r\n    themeCheckBox: false\r\n  };\r\n\r\n  handleChange = name => event => {\r\n    this.setState({ [name]: event.target.checked });\r\n    this.props.toggleTheme(event.target.checked)\r\n  }\r\n\r\n  handleProfileMenuOpen = event => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleMenuClose = () => {\r\n    this.setState({ anchorEl: null });\r\n    this.handleMobileMenuClose();\r\n  };\r\n\r\n  handleMobileMenuOpen = event => {\r\n    this.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleMobileMenuClose = () => {\r\n    this.setState({ mobileMoreAnchorEl: null });\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl, mobileMoreAnchorEl } = this.state;\r\n    const { classes } = this.props;\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n    const renderMenu = (\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        <MenuItem onClick={this.handleMenuClose}>Profile</MenuItem>\r\n        <MenuItem onClick={this.handleMenuClose}>My account</MenuItem>\r\n      </Menu>\r\n    );\r\n\r\n    const renderMobileMenu = (\r\n      <Menu\r\n        anchorEl={mobileMoreAnchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMobileMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        <MenuItem>\r\n          <Switch\r\n            checked={this.state.themeCheckBox}\r\n            onChange={this.handleChange('themeCheckBox')}\r\n            value=\"themeCheckBox\"\r\n          />\r\n        </MenuItem>\r\n      </Menu>\r\n    );\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar className={classes.appbar} position=\"static\">\r\n          <Toolbar>\r\n            <Logo />\r\n            <div className={classes.grow} />\r\n            <div className={classes.sectionDesktop}>\r\n              <Switch\r\n                checked={this.state.themeCheckBox}\r\n                onChange={this.handleChange('themeCheckBox')}\r\n                value=\"themeCheckBox\"\r\n              />\r\n            </div>\r\n            <div className={classes.sectionMobile}>\r\n              <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen} color=\"inherit\">\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n        {renderMenu}\r\n        {renderMobileMenu}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchAppBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SearchAppBar))\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    minWidth: 275,\r\n    boxShadow: theme.boxShadow,\r\n    background: theme.palette.background,\r\n    width: 300,\r\n    margin: 20\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 10,\r\n    fontFamily: 'Google Sans',\r\n    color: theme.palette.text\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  customFont: {\r\n      fontFamily: 'Google Sans',\r\n      color: theme.palette.text\r\n  },\r\n  actionBlue: {\r\n      color: theme.palette.primaryColor,\r\n      fontFamily: 'Google Sans'\r\n  }\r\n})\r\n\r\nfunction PostCard(props) {\r\n  const { classes } = props;\r\n  if(!props.post) return null\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardContent>\r\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n          Quote of the Day\r\n        </Typography>\r\n        <Typography className={classes.customFont} variant=\"h5\" component=\"h4\">\r\n            { props.post.title }\r\n        </Typography>\r\n        <Typography className={classes.customFont} component=\"p\">\r\n            { props.post.body }\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button className={classes.actionBlue} size=\"small\">Learn More</Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(PostCard);\r\n","import Dexie from 'dexie';\r\n\r\nconst db = new Dexie('PostsDB');\r\ndb.version(1).stores({ posts: '++id, title, body' });\r\n\r\nexport default db;","import React, { useEffect } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport PostCard from './postCard'\r\nimport { connect } from 'react-redux'\r\nimport { fetchPosts, updateCachedPosts } from '../actions/index'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { FixedSizeGrid } from 'react-window'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        background: (theme.palette.background)\r\n    },\r\n    progress: {\r\n        display: 'block',\r\n        margin: '0 auto',\r\n        marginTop: '30%',\r\n        color: '#ea4436'\r\n    },\r\n    progressContainer: {\r\n        width: '100%'\r\n    },\r\n    grid: {\r\n        display: 'block', \r\n        margin: '0 auto', \r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.postsReducer.posts\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return  {\r\n        fetchPosts: () => { dispatch(fetchPosts()) },\r\n        updateCachedPosts: () => { dispatch(updateCachedPosts())}\r\n    }\r\n}\r\n\r\nconst PostCardContainer = (props) => {\r\n    let { classes, posts } = props\r\n\r\n    useEffect(() => {\r\n        if(navigator.onLine){\r\n            props.fetchPosts()\r\n        } else {\r\n            props.updateCachedPosts()\r\n        }\r\n    }, [])\r\n\r\n    if(!posts.length) return <div className={classes.progressContainer}><CircularProgress className={classes.progress} /></div>\r\n\r\n    let columnCount = Math.floor(window.innerWidth/350)\r\n    let rowCount = Math.floor(posts.length/columnCount) + posts.length % columnCount\r\n    console.log(columnCount, rowCount)\r\n    return (\r\n        <div>\r\n            <div className={classes.root}>\r\n                <FixedSizeGrid\r\n                    height={window.innerHeight - 60}\r\n                    rowCount={rowCount}\r\n                    rowSize={200}\r\n                    rowHeight={350}\r\n                    width={370*columnCount}\r\n                    columnCount={columnCount}\r\n                    columnWidth={350}\r\n                    className={classes.grid}\r\n                >\r\n                        {({ rowIndex, columnIndex, style }) => (\r\n                            <div style={style}>\r\n                                <PostCard key={rowIndex*3 + columnIndex} post={posts[rowIndex*3 + columnIndex]} />\r\n                            </div>\r\n                        )}\r\n                </FixedSizeGrid>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(PostCardContainer))","import axios from 'axios'\r\nimport db from '../db'\r\n\r\nexport const fetchPosts = () => (dispatch) => {\r\n    axios.get('https://jsonplaceholder.typicode.com/posts').then( async (response) => {\r\n        dispatch({ type: 'UPDATE_POSTS', payload: response.data.sort(() => (0.5 - Math.random())) })\r\n        let toBeCachedData = response.data.sort(function() {return 0.5 - Math.random()}).splice(5, 10)\r\n        toBeCachedData.forEach(post => {\r\n            delete post.id\r\n        })\r\n        await db.posts.toCollection().delete()\r\n        db.posts.bulkPut(toBeCachedData)\r\n    }).catch((err) => {\r\n        console.error(err)\r\n    })\r\n}\r\n\r\nexport const updateCachedPosts = () => async (dispatch) => {\r\n    let posts = await db.posts.toArray()\r\n    dispatch({ type: 'UPDATE_POSTS', payload: posts})\r\n}","import React, { Component } from 'react';\r\nimport SearchAppBar from './searchAppBar'\r\nimport PostCardContainer from './postCardContainer'\r\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core'\r\nimport { grey, blue, red } from '@material-ui/core/colors'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isDark: state.postsReducer.isDark\r\n  }\r\n}\r\n\r\nconst lightTheme = createMuiTheme({\r\n    palette: {\r\n        main: grey[500],\r\n        background: '#fff',\r\n        text: '#333',\r\n        primaryColor: blue[400],\r\n        iconColor: '#999',\r\n        accentBackground: '#efefef'\r\n    },\r\n    boxShadow: '0 5px 40px -20px rgba(40,44,63,.15)'\r\n})\r\n\r\nconst darkTheme = createMuiTheme({\r\n    palette: {\r\n        main: grey[500],\r\n        background: '#222',\r\n        text: '#fff',\r\n        primaryColor: blue[400],\r\n        iconColor: red[600],\r\n        accentBackground: grey[800]\r\n    },\r\n    boxShadow: '0 5px 40px -20px #000'\r\n})\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <MuiThemeProvider theme={this.props.isDark ? darkTheme : lightTheme}>\r\n        <div>\r\n          <SearchAppBar />\r\n          <PostCardContainer />\r\n        </div>\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","const initState = {\r\n    posts: [],\r\n    isDark: false\r\n}\r\n\r\nexport default function(state = initState, action){\r\n    const { type, payload } = action\r\n    switch(type){\r\n        case 'UPDATE_POSTS': return { ...state, posts: payload }\r\n        case 'UPDATE_THEME': return { ...state, isDark: payload }\r\n        default: return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport postsReducer from './postsReducer'\r\n\r\nexport default combineReducers({\r\n    postsReducer\r\n})","import { createStore, applyMiddleware } from 'redux'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducers/index'\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(\r\n    logger,\r\n    thunk\r\n))\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/app'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport './styles/index.css'\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst rootElement = document.getElementById('root')\r\n\r\nif(rootElement.hasChildNodes()){\r\n    ReactDOM.hydrate(\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>, rootElement\r\n    )\r\n} else {\r\n    ReactDOM.render(\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>, rootElement\r\n    )\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register()\r\n"],"sourceRoot":""}